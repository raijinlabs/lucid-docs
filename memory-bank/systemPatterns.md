# System Patterns — LucidLayer Documentation

## Architecture
```
raijinlabs/docs (GitHub)
    ├── docs.json              # Mintlify configuration (nav, theme, logo)
    ├── index.mdx              # Landing page
    ├── quickstart.mdx         # Getting started
    ├── authentication.mdx     # Auth guide
    ├── sdk-installation.mdx   # SDK setup
    ├── concepts/              # Core concept pages (passports, inference, etc.)
    ├── guides/                # Tutorial pages (beginner → advanced)
    ├── api-reference/         # API docs (OpenAPI-powered)
    ├── sdks/                  # SDK reference pages (auto-synced from Speakeasy)
    ├── ai-tools/              # MCP integration guides (Cursor, Claude Code, Windsurf)
    ├── platform/              # Platform management (billing, keys, quotas)
    ├── security/              # Security & compliance docs
    ├── changelog/             # Release notes
    ├── logo/                  # Brand assets (dark.svg, light.svg, lucid_w.png)
    ├── images/                # Documentation images
    ├── snippets/              # Reusable MDX snippets
    ├── scripts/               # Build/sync scripts
    └── .github/workflows/     # CI: auto-sync SDK docs
```

## Key Technical Decisions
1. **Mintlify** — Chosen for its MDX support, search, dark mode, API playground, and auto-deploy from GitHub
2. **Speakeasy SDK docs** — SDK pages are auto-generated by Speakeasy and synced via GitHub Actions
3. **OpenAPI reference** — API endpoints rendered from `openapi-with-code-samples.yaml` in the SDK repo
4. **SVG logos** — Using dark.svg/light.svg for logo (PNG had S3 403 issues)
5. **Tabbed navigation** — 6 tabs organizing 66 pages into logical groups

## CI/CD Pipeline
- **Docs repo workflow** (`.github/workflows/sync-sdk-docs.yml`):
  - Runs every 6 hours (cron) or on `repository_dispatch` from SDK repo
  - Fetches Speakeasy-generated content from `lucid-ai-sdk/typescript/docs/`
  - Rebuilds MDX pages in `sdks/` directory
  - Auto-commits changes
- **SDK repo trigger** (`.github/workflows/trigger-docs-sync.yml`):
  - Fires when `typescript/docs/**` changes in SDK repo
  - Uses `DOCS_SYNC_PAT` secret for cross-repo dispatch

## Design Patterns
- **MDX pages** — Frontmatter (title, description, icon) + markdown content
- **Snippets** — Reusable content blocks in `snippets/` directory
- **OpenAPI integration** — `"openapi"` key in docs.json navigation auto-generates endpoint pages
- **Tab-based nav** — Each tab has groups of pages for hierarchical organization
